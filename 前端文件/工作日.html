<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>工作日计算</title>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>
<body>
<label for="startDate">开始日期:</label>
<input type="date" id="startDate">
<label for="endDate">结束日期:</label>
<input type="date" id="endDate">
<button id="calculate">计算工作日</button>
<div id="result"></div>

<script>
    $(document).ready(function() {
        function getBusinessDays(startDate, endDate, holidays) {
            var start = new Date(startDate);
            var end = new Date(endDate);
            var count = 0;

            // Ensure the start date is before the end date
            if (start > end) {
                return 0;
            }

            // Convert holiday strings to Date objects
            var holidayDates = holidays.map(function(holiday) {
                return new Date(holiday);
            });

            // Loop through each date in the range
            while (start <= end) {
                var day = start.getDay();
                // Check if the day is not Saturday(6) or Sunday(0) and not a holiday
                if (day !== 0 && day !== 6 && !isHoliday(start, holidayDates)) {
                    count++;
                }
                // Move to the next day
                start.setDate(start.getDate() + 1);
            }

            return count;
        }

        function isHoliday(date, holidays) {
            for (var i = 0; i < holidays.length; i++) {
                if (date.getTime() === holidays[i].getTime()) {
                    return true;
                }
            }
            return false;
        }

        $("#calculate").click(function() {
            var startDate = $("#startDate").val();
            var endDate = $("#endDate").val();
            var holidays = [
                "2024-01-01", // 元旦
                "2024-02-10", // 春节
                "2024-02-11", // 春节
                "2024-02-12", // 春节
                "2024-04-04", // 清明节
                "2024-05-01", // 劳动节
                "2024-06-10", // 端午节
                "2024-09-21", // 中秋节
                "2024-10-01", // 国庆节
                "2024-10-02", // 国庆节
                "2024-10-03"  // 国庆节
            ];

            if (startDate && endDate) {
                var businessDays = getBusinessDays(startDate, endDate, holidays);
                $("#result").html("工作日天数: " + businessDays);
            } else {
                $("#result").html("请填写开始日期和结束日期。");
            }
        });
    });
</script>
</body>
</html>
